{
    "id": "pdf-to-markdown",
    "name": "PDF to Markdown",
    "version": "1.0.0",
    "description": "Automatically converts PDF files to Markdown using MinerU API and injects content into chat context",
    "author": {
        "name": "Alma Community"
    },
    "main": "main.js",
    "engines": {
        "alma": "^0.1.0"
    },
    "type": "transform",
    "permissions": [
        "chat:read",
        "chat:write",
        "settings:read",
        "settings:write",
        "storage:read",
        "storage:write",
        "secrets:read",
        "secrets:write",
        "notifications",
        "network:fetch",
        "network:domain:mineru.net"
    ],
    "activationEvents": ["onStartup"],
    "contributes": {
        "commands": [
            {
                "id": "pdf-to-markdown.convert",
                "title": "Convert PDF to Markdown",
                "category": "PDF to Markdown"
            },
            {
                "id": "pdf-to-markdown.toggle",
                "title": "Toggle PDF Auto-Conversion",
                "category": "PDF to Markdown"
            },
            {
                "id": "pdf-to-markdown.clearCache",
                "title": "Clear PDF Conversion Cache",
                "category": "PDF to Markdown"
            },
            {
                "id": "pdf-to-markdown.setApiKey",
                "title": "Set MinerU API Key",
                "category": "PDF to Markdown"
            }
        ],
        "configuration": {
            "title": "PDF to Markdown",
            "properties": {
                "pdf-to-markdown.enabled": {
                    "type": "boolean",
                    "default": true,
                    "description": "Enable automatic PDF to Markdown conversion"
                },
                "pdf-to-markdown.modelVersion": {
                    "type": "string",
                    "enum": ["vlm", "pipeline"],
                    "default": "vlm",
                    "description": "MinerU model version: vlm (Vision Language Model, recommended) or pipeline (traditional)"
                },
                "pdf-to-markdown.enableFormula": {
                    "type": "boolean",
                    "default": true,
                    "description": "Enable formula recognition (only for pipeline model)"
                },
                "pdf-to-markdown.enableTable": {
                    "type": "boolean",
                    "default": true,
                    "description": "Enable table recognition (only for pipeline model)"
                },
                "pdf-to-markdown.language": {
                    "type": "string",
                    "default": "ch",
                    "description": "OCR language: ch (Chinese), en (English), etc. (only for pipeline model)"
                },
                "pdf-to-markdown.cacheEnabled": {
                    "type": "boolean",
                    "default": true,
                    "description": "Cache converted PDFs to avoid re-conversion"
                },
                "pdf-to-markdown.maxFileSizeMB": {
                    "type": "number",
                    "default": 50,
                    "description": "Maximum PDF file size in MB"
                }
            }
        }
    }
}
